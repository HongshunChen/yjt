!function(n){function o(t){if(i[t])return i[t].exports;var e=i[t]={exports:{},id:t,loaded:!1};return n[t].call(e.exports,e,e.exports,o),e.loaded=!0,e.exports}var i={};return o.m=n,o.c=i,o.p="",o(0)}([function(n,o){!function(n){var o=[],i={id:"",formId:null,title:"提示",message:"",cnacel:"取消",onCancel:function(){},ok:"确认",onOk:function(){},cancelOnly:!1,okClass:"button",cancelClass:"button",onShow:function(){},onHide:function(){},closeOnOk:!0,hideTitle:!1,popClass:""},t=function(){var t=function(t,e){this.container=t,this.container||(this.container=document.body);try{"string"!=typeof e&&"number"!=typeof e||(e={message:e,cancelOnly:"true",cnacel:"关闭",hideTitle:!0});var a=this,e=n.extend({},i,e);e.title||(e.hideTitle=!0),e.id||(e.id="popup-"+Math.floor(1e3*Math.random()));for(var s in e)a[s]=e[s];o.push(this),1==o.length&&this.show()}catch(c){console.log("配置错误："+c)}};return t.prototype={show:function(){var o=this,i='<div id="'+this.id+'" class="car-popup hidden '+this.popClass+'">';if(o.hideTitle||(i+="<header>"+this.title+"</header>"),i+='<div class="content-body">'+this.message+'</div><footer style="clear:both;"><a href="javascript:;" class="car-popup-cancel '+this.cancelClass+'">'+this.cnacel+'</a><a href="javascript:;" class="car-popup-ok '+this.okClass+'"  >'+this.ok+"</a> </footer></div></div>",n(this.container).append(n(i)),this.formId){var t=n(this.container).find(".content-body"),a=n("#"+this.formId);this.$formParent=a.parent(),a.appendTo(t)}var s=n("#"+this.id);s.bind("close",function(){o.hide()}),this.cancelOnly&&(s.find(".car-popup-ok").hide(),s.find(".car-popup-cancel").addClass("center")),s.find("A").each(function(){var i=n(this);i.bind("click",function(n){i.hasClass("car-popup-cancel")?(o.onCancel.call(o.onCancel,o),o.hide()):i.hasClass("car-popup-ok")&&(o.onOk.call(o.onOk,o),o.closeOnOk&&o.hide()),n.preventDefault()})}),o.positionPopup(),e.show(.3),s.bind("orientationchange",function(){o.positionPopup()}),s.find("header").show(),s.find("footer").show(),setTimeout(function(){s.removeClass("hidden"),o.onShow(o)},50)},hide:function(){var o=this;n("#"+o.id).addClass("hidden"),e.hide(),n.os.ie||n.os.android?o.remove():setTimeout(function(){o.remove()},250)},remove:function(){var i=this;i.onHide&&i.onHide.call();var t=n("#"+i.id);if(i.formId){var e=n("#"+i.formId);e.appendTo(i.$formParent)}t.unbind("close"),t.find(".car-popup-ok").unbind("click"),t.find(".car-popup-cancel").unbind("click"),t.unbind("orientationchange").remove(),o.splice(0,1),o.length>0&&o[0].show()},positionPopup:function(){var o=n("#"+this.id),i=n(window).width()||360,t=n(window).height()||500,e=o[0].clientWidth||300,a=o[0].clientHeight||100;o.css("top",t/2.5+window.pageYOffset-a/2+"px").css("left",i/2-e/2+"px")}},t}(),e={isShow:!1,show:function(o){this.isShow||(o=o?" style='opacity:"+o+";'":"",n("body").prepend(n("<div id='car-pop-mask'"+o+"></div>")),n("#car-pop-mask").bind("touchstart",function(n){n.preventDefault()}).bind("touchmove",function(n){n.preventDefault()}),this.isShow=!0)},hide:function(){this.isShow=!1,n("#car-pop-mask").unbind("touchstart").unbind("touchmove").remove()}};n.fn.popup=function(n){return new t(this[0],n)}}(Zepto)}]);